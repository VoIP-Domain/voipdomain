diff -ruN jquery.flowchart-1.2-orig/jquery.flowchart.js jquery.flowchart-1.2-zoomfix/jquery.flowchart.js
--- jquery.flowchart-1.2-orig/jquery.flowchart.js	2023-05-15 15:31:13.123167067 -0300
+++ jquery.flowchart-1.2-zoomfix/jquery.flowchart.js	2023-05-15 15:31:22.714153391 -0300
@@ -446,6 +446,8 @@
             var fromSubConnector = subConnectors[0];
             var toSubConnector = subConnectors[1];
 
+            var zoom = self.possibleZooms[self.currentZoom];
+
             var fromPosition = this.getConnectorPosition(linkData.fromOperator, linkData.fromConnector, fromSubConnector);
             var toPosition = this.getConnectorPosition(linkData.toOperator, linkData.toConnector, toSubConnector);
 
@@ -461,7 +463,7 @@
 
             var distanceFromArrow = this.options.distanceFromArrow;
 
-            linkData.internal.els.mask.setAttribute("points", fromX + ',' + (fromY - offsetFromX - distanceFromArrow) + ' ' + (fromX + offsetFromX + distanceFromArrow) + ',' + fromY + ' ' + fromX + ',' + (fromY + offsetFromX + distanceFromArrow));
+            linkData.internal.els.mask.setAttribute("points", ( fromX * zoom) + ',' + (( fromY - offsetFromX - distanceFromArrow) * zoom) + ' ' + (( fromX + offsetFromX + distanceFromArrow) * zoom) + ',' + ( fromY * zoom) + ' ' + ( fromX * zoom) + ',' + (( fromY + offsetFromX + distanceFromArrow) * zoom));
 
             var bezierFromX, bezierToX, bezierIntensity;
 
diff -ruN jquery.flowchart-1.2-orig/jquery.flowchart.min.js jquery.flowchart-1.2-zoomfix/jquery.flowchart.min.js
--- jquery.flowchart-1.2-orig/jquery.flowchart.min.js	2023-05-15 15:31:13.123167067 -0300
+++ jquery.flowchart-1.2-zoomfix/jquery.flowchart.min.js	2023-05-15 15:31:22.715153390 -0300
@@ -13,7 +13,7 @@
 return color;},setLinkMainColor:function(linkId,color){this.data.links[linkId].color=color;this.callbackEvent('afterChange',['link_change_main_color']);},_drawLink:function(linkId){var linkData=this.data.links[linkId];if(typeof linkData.internal=='undefined'){linkData.internal={};}
 linkData.internal.els={};var fromOperatorId=linkData.fromOperator;var fromConnectorId=linkData.fromConnector;var toOperatorId=linkData.toOperator;var toConnectorId=linkData.toConnector;var subConnectors=this._getSubConnectors(linkData);var fromSubConnector=subConnectors[0];var toSubConnector=subConnectors[1];var color=this.getLinkMainColor(linkId);var fromOperator=this.data.operators[fromOperatorId];var toOperator=this.data.operators[toOperatorId];var fromSmallConnector=fromOperator.internal.els.connectorSmallArrows[fromConnectorId][fromSubConnector];var toSmallConnector=toOperator.internal.els.connectorSmallArrows[toConnectorId][toSubConnector];linkData.internal.els.fromSmallConnector=fromSmallConnector;linkData.internal.els.toSmallConnector=toSmallConnector;var overallGroup=document.createElementNS("http://www.w3.org/2000/svg","g");this.objs.layers.links[0].appendChild(overallGroup);linkData.internal.els.overallGroup=overallGroup;var mask=document.createElementNS("http://www.w3.org/2000/svg","mask");var maskId="fc_mask_"+this.globalId+"_"+this.maskNum;this.maskNum++;mask.setAttribute("id",maskId);overallGroup.appendChild(mask);var shape=document.createElementNS("http://www.w3.org/2000/svg","rect");shape.setAttribute("x","0");shape.setAttribute("y","0");shape.setAttribute("width","100%");shape.setAttribute("height","100%");shape.setAttribute("stroke","none");shape.setAttribute("fill","white");mask.appendChild(shape);var shape_polygon=document.createElementNS("http://www.w3.org/2000/svg","polygon");shape_polygon.setAttribute("stroke","none");shape_polygon.setAttribute("fill","black");mask.appendChild(shape_polygon);linkData.internal.els.mask=shape_polygon;var group=document.createElementNS("http://www.w3.org/2000/svg","g");group.setAttribute('class','flowchart-link');group.setAttribute('data-link_id',linkId);overallGroup.appendChild(group);var shape_path=document.createElementNS("http://www.w3.org/2000/svg","path");shape_path.setAttribute("stroke-width",this.options.linkWidth.toString());shape_path.setAttribute("fill","none");group.appendChild(shape_path);linkData.internal.els.path=shape_path;var shape_rect=document.createElementNS("http://www.w3.org/2000/svg","rect");shape_rect.setAttribute("stroke","none");shape_rect.setAttribute("mask","url(#"+maskId+")");group.appendChild(shape_rect);linkData.internal.els.rect=shape_rect;this._refreshLinkPositions(linkId);this.uncolorizeLink(linkId);},_getSubConnectors:function(linkData){var fromSubConnector=0;if(typeof linkData.fromSubConnector!='undefined'){fromSubConnector=linkData.fromSubConnector;}
 var toSubConnector=0;if(typeof linkData.toSubConnector!='undefined'){toSubConnector=linkData.toSubConnector;}
-return[fromSubConnector,toSubConnector];},_refreshLinkPositions:function(linkId){var linkData=this.data.links[linkId];var subConnectors=this._getSubConnectors(linkData);var fromSubConnector=subConnectors[0];var toSubConnector=subConnectors[1];var fromPosition=this.getConnectorPosition(linkData.fromOperator,linkData.fromConnector,fromSubConnector);var toPosition=this.getConnectorPosition(linkData.toOperator,linkData.toConnector,toSubConnector);var fromX=fromPosition.x;var offsetFromX=fromPosition.width;var fromY=fromPosition.y;var toX=toPosition.x;var toY=toPosition.y;fromY+=this.options.linkVerticalDecal;toY+=this.options.linkVerticalDecal;var distanceFromArrow=this.options.distanceFromArrow;linkData.internal.els.mask.setAttribute("points",fromX+','+(fromY-offsetFromX-distanceFromArrow)+' '+(fromX+offsetFromX+distanceFromArrow)+','+fromY+' '+fromX+','+(fromY+offsetFromX+distanceFromArrow));var bezierFromX,bezierToX,bezierIntensity;if(this.options.verticalConnection){fromY=fromY-10;toY=toY-10;bezierFromX=(fromX+offsetFromX+distanceFromArrow-3);bezierToX=(toX+offsetFromX+distanceFromArrow-3);bezierIntensity=Math.min(100,Math.max(Math.abs(bezierFromX-bezierToX)/2,Math.abs(fromY-toY)));linkData.internal.els.path.setAttribute("d",'M'+bezierFromX+','+(fromY)+' C'+bezierFromX+','+(fromY+bezierIntensity)+' '+bezierToX+','+(toY-bezierIntensity)+' '+bezierToX+','+toY);linkData.internal.els.rect.setAttribute("x",fromX-1+this.options.linkWidth/2);}else{bezierFromX=(fromX+offsetFromX+distanceFromArrow);bezierToX=toX+1;bezierIntensity=Math.min(100,Math.max(Math.abs(bezierFromX-bezierToX)/2,Math.abs(fromY-toY)));linkData.internal.els.path.setAttribute("d",'M'+bezierFromX+','+(fromY)+' C'+(fromX+offsetFromX+distanceFromArrow+bezierIntensity)+','+fromY+' '+(toX-bezierIntensity)+','+toY+' '+bezierToX+','+toY);linkData.internal.els.rect.setAttribute("x",fromX);}
+return[fromSubConnector,toSubConnector];},_refreshLinkPositions:function(linkId){var linkData=this.data.links[linkId];var subConnectors=this._getSubConnectors(linkData);var fromSubConnector=subConnectors[0];var toSubConnector=subConnectors[1];var zoom=self.possibleZooms[self.currentZoom];var fromPosition=this.getConnectorPosition(linkData.fromOperator,linkData.fromConnector,fromSubConnector);var toPosition=this.getConnectorPosition(linkData.toOperator,linkData.toConnector,toSubConnector);var fromX=fromPosition.x;var offsetFromX=fromPosition.width;var fromY=fromPosition.y;var toX=toPosition.x;var toY=toPosition.y;fromY+=this.options.linkVerticalDecal;toY+=this.options.linkVerticalDecal;var distanceFromArrow=this.options.distanceFromArrow;linkData.internal.els.mask.setAttribute("points",(fromX*zoom)+','+((fromY-offsetFromX-distanceFromArrow)*zoom)+' '+((fromX+offsetFromX+distanceFromArrow)*zoom)+','+(fromY*zoom)+' '+(fromX*zoom)+','+((fromY+offsetFromX+distanceFromArrow)*zoom));var bezierFromX,bezierToX,bezierIntensity;if(this.options.verticalConnection){fromY=fromY-10;toY=toY-10;bezierFromX=(fromX+offsetFromX+distanceFromArrow-3);bezierToX=(toX+offsetFromX+distanceFromArrow-3);bezierIntensity=Math.min(100,Math.max(Math.abs(bezierFromX-bezierToX)/2,Math.abs(fromY-toY)));linkData.internal.els.path.setAttribute("d",'M'+bezierFromX+','+(fromY)+' C'+bezierFromX+','+(fromY+bezierIntensity)+' '+bezierToX+','+(toY-bezierIntensity)+' '+bezierToX+','+toY);linkData.internal.els.rect.setAttribute("x",fromX-1+this.options.linkWidth/2);}else{bezierFromX=(fromX+offsetFromX+distanceFromArrow);bezierToX=toX+1;bezierIntensity=Math.min(100,Math.max(Math.abs(bezierFromX-bezierToX)/2,Math.abs(fromY-toY)));linkData.internal.els.path.setAttribute("d",'M'+bezierFromX+','+(fromY)+' C'+(fromX+offsetFromX+distanceFromArrow+bezierIntensity)+','+fromY+' '+(toX-bezierIntensity)+','+toY+' '+bezierToX+','+toY);linkData.internal.els.rect.setAttribute("x",fromX);}
 linkData.internal.els.rect.setAttribute("y",fromY-this.options.linkWidth/2);linkData.internal.els.rect.setAttribute("width",offsetFromX+distanceFromArrow+1);linkData.internal.els.rect.setAttribute("height",this.options.linkWidth);},getOperatorCompleteData:function(operatorData){if(typeof operatorData.internal=='undefined'){operatorData.internal={};}
 this._refreshInternalProperties(operatorData);var infos=$.extend(true,{},operatorData.internal.properties);for(var connectorId_i in infos.inputs){if(infos.inputs.hasOwnProperty(connectorId_i)){if(infos.inputs[connectorId_i]==null){delete infos.inputs[connectorId_i];}}}
 for(var connectorId_o in infos.outputs){if(infos.outputs.hasOwnProperty(connectorId_o)){if(infos.outputs[connectorId_o]==null){delete infos.outputs[connectorId_o];}}}
