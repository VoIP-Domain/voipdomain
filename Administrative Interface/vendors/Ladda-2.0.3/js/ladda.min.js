/*!* Ladda
* http://lab.hakim.se/ladda
* MIT licensed
*
* Copyright (C) 2018 Hakim El Hattab, http://hakim.se*/var ALL_INSTANCES=[];export function create(button){if(typeof button==='undefined'){console.warn("Ladda button target must be defined.");return;}
if(!button.classList.contains('ladda-button')){button.classList.add('ladda-button');}
if(!button.hasAttribute('data-style')){button.setAttribute('data-style','expand-right');}
if(!button.querySelector('.ladda-label')){var laddaLabel=document.createElement('span');laddaLabel.className='ladda-label';wrapContent(button,laddaLabel);}
var spinnerWrapper=button.querySelector('.ladda-spinner');if(!spinnerWrapper){spinnerWrapper=document.createElement('span');spinnerWrapper.className='ladda-spinner';}
button.appendChild(spinnerWrapper);var timer;var spinner;var instance={start:function(){if(!spinner){spinner=createSpinner(button);}
button.disabled=true;button.setAttribute('data-loading','');clearTimeout(timer);spinner.spin(spinnerWrapper);this.setProgress(0);return this;},startAfter:function(delay){clearTimeout(timer);timer=setTimeout(function(){instance.start();},delay);return this;},stop:function(){if(instance.isLoading()){button.disabled=false;button.removeAttribute('data-loading');}
clearTimeout(timer);if(spinner){timer=setTimeout(function(){spinner.stop();},1000);}
return this;},toggle:function(){return this.isLoading()?this.stop():this.start();},setProgress:function(progress){progress=Math.max(Math.min(progress,1),0);var progressElement=button.querySelector('.ladda-progress');if(progress===0&&progressElement&&progressElement.parentNode){progressElement.parentNode.removeChild(progressElement);}else{if(!progressElement){progressElement=document.createElement('div');progressElement.className='ladda-progress';button.appendChild(progressElement);}
progressElement.style.width=((progress||0)*button.offsetWidth)+'px';}},isLoading:function(){return button.hasAttribute('data-loading');},remove:function(){clearTimeout(timer);button.disabled=false;button.removeAttribute('data-loading');if(spinner){spinner.stop();spinner=null;}
ALL_INSTANCES.splice(ALL_INSTANCES.indexOf(instance),1);}};ALL_INSTANCES.push(instance);return instance;}
export function bind(target,options){var targets;if(typeof target==='string'){targets=document.querySelectorAll(target);}else if(typeof target==='object'){targets=[target];}else{throw new Error('target must be string or object');}
options=options||{};for(var i=0;i<targets.length;i++){bindElement(targets[i],options);}}
export function stopAll(){for(var i=0,len=ALL_INSTANCES.length;i<len;i++){ALL_INSTANCES[i].stop();}}
function getAncestorOfTagType(elem,type){while(elem.parentNode&&elem.tagName!==type){elem=elem.parentNode;}
return(type===elem.tagName)?elem:undefined;}
function createSpinner(button){var height=button.offsetHeight,spinnerColor,spinnerLines;if(height===0){height=parseFloat(window.getComputedStyle(button).height);}
if(height>32){height*=0.8;}
if(button.hasAttribute('data-spinner-size')){height=parseInt(button.getAttribute('data-spinner-size'),10);}
if(button.hasAttribute('data-spinner-color')){spinnerColor=button.getAttribute('data-spinner-color');}
if(button.hasAttribute('data-spinner-lines')){spinnerLines=parseInt(button.getAttribute('data-spinner-lines'),10);}
var radius=height*0.2,length=radius*0.6,width=radius<7?2:3;return new Spinner({color:spinnerColor||'#fff',lines:spinnerLines||12,radius:radius,length:length,width:width,animation:'ladda-spinner-line-fade',zIndex:'auto',top:'auto',left:'auto',className:''});}
function wrapContent(node,wrapper){var r=document.createRange();r.selectNodeContents(node);r.surroundContents(wrapper);node.appendChild(wrapper);}
function bindElement(element,options){if(typeof element.addEventListener!=='function'){return;}
var instance=create(element);var timeout=-1;element.addEventListener('click',function(){var valid=true;var form=getAncestorOfTagType(element,'FORM');if(typeof form!=='undefined'&&!form.hasAttribute('novalidate')){if(typeof form.checkValidity==='function'){valid=form.checkValidity();}}
if(valid){instance.startAfter(1);if(typeof options.timeout==='number'){clearTimeout(timeout);timeout=setTimeout(instance.stop,options.timeout);}
if(typeof options.callback==='function'){options.callback.apply(null,[instance]);}}},false);}