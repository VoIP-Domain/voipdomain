<?php
/**   ___ ___       ___ _______     ______                        __
 *   |   Y   .-----|   |   _   |   |   _  \ .-----.--------.---.-|__.-----.
 *   |.  |   |  _  |.  |.  1   |   |.  |   \|  _  |        |  _  |  |     |
 *   |.  |   |_____|.  |.  ____|   |.  |    |_____|__|__|__|___._|__|__|__|
 *   |:  1   |     |:  |:  |       |:  1    /
 *    \:.. ./      |::.|::.|       |::.. . /
 *     `---'       `---`---'       `------'
 *
 * Copyright (C) 2016-2025 Ernani José Camargo Azevedo
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

/**
 * VoIP Domain country database module filters. This module add the filter calls
 * related to country database of Dominican Republic.
 *
 * Reference: https://www.itu.int/oth/T020200003C/en (2010-06-04)
 *
 * Glossary:
 *  CC - Country Code
 *  NDC - National Destination Code (also known as area code)
 *  N(S)N - National (Significant) Number
 *  SN - Subscriber Number
 *
 * @author     Ernani José Camargo Azevedo <azevedo@voipdomain.io>
 * @version    1.0
 * @package    VoIP Domain
 * @subpackage CountryDB
 * @copyright  2016-2025 Ernani José Camargo Azevedo. All rights reserved.
 * @license    https://www.gnu.org/licenses/gpl-3.0.en.html
 */

/**
 * E.164 Dominican Republic country hook
 */
framework_add_filter ( "e164_identify_country_DOM", "e164_identify_country_DOM");

/**
 * E.164 Dominican Republic area number identification hook. This hook is an
 * e164_identify sub hook, called when the ISO3166 Alpha3 are "DOM" (code for
 * Dominican Republic). This hook will verify if phone number is valid, returning
 * the area code, area name, phone number, others number related information and
 * if possible, the number type (mobile, landline, Premium Rate Number, etc).
 *
 * @param string $buffer Buffer from plugin system if processed by other function
 *                       before
 * @param array $parameters Parameters to the function. Number provided as
 *                          $parameters["Number"]
 * @return array Array contaning many information about the requested number
 */
function e164_identify_country_DOM ( $buffer, $parameters)
{
  /**
   * Check if number country code is from Dominican Republic
   */
  if ( substr ( $parameters["Number"], 0, 5) != "+1809" && substr ( $parameters["Number"], 0, 5) != "+1829" && substr ( $parameters["Number"], 0, 5) != "+1849")
  {
    return ( is_array ( $buffer) ? $buffer : false);
  }

  /**
   * All numbers in Dominican Republic has 12 digits E.164 format
   */
  if ( strlen ( $parameters["Number"]) != 12)
  {
    return ( is_array ( $buffer) ? $buffer : false);
  }

  /**
   * Check for mobile network with 3 digits NPA, 3 digits NDC and 4 digits SN
   */
  $prefixes = array (
    "8096049" => "Codetel (Claro Dominicana)",
    "8096048" => "Codetel (Claro Dominicana)",
    "8096047" => "Codetel (Claro Dominicana)",
    "8096046" => "Codetel (Claro Dominicana)",
    "8096045" => "Codetel (Claro Dominicana)",
    "8096044" => "Codetel (Claro Dominicana)",
    "8096043" => "Codetel (Claro Dominicana)",
    "8096042" => "Codetel (Claro Dominicana)",
    "8096041" => "Codetel (Claro Dominicana)",
    "8094818" => "Codetel (Claro Dominicana)",
    "8094817" => "Codetel (Claro Dominicana)",
    "8094816" => "Codetel (Claro Dominicana)",
    "8094815" => "Codetel (Claro Dominicana)",
    "8094814" => "Codetel (Claro Dominicana)",
    "8094813" => "Codetel (Claro Dominicana)",
    "8094812" => "Codetel (Claro Dominicana)",
    "8094811" => "Codetel (Claro Dominicana)",
    "8094810" => "Codetel (Claro Dominicana)",
    "8094708" => "Tricom (Altice Dominicana)",
    "8094707" => "Tricom (Altice Dominicana)",
    "8094706" => "Tricom (Altice Dominicana)",
    "8094705" => "Tricom (Altice Dominicana)",
    "8094704" => "Tricom (Altice Dominicana)",
    "8094703" => "Tricom (Altice Dominicana)",
    "8094702" => "Tricom (Altice Dominicana)",
    "8094701" => "Tricom (Altice Dominicana)",
    "8093746" => "Codetel (Claro Dominicana)",
    "8093745" => "Codetel (Claro Dominicana)",
    "8093744" => "Codetel (Claro Dominicana)",
    "8093743" => "Codetel (Claro Dominicana)",
    "8093742" => "Codetel (Claro Dominicana)",
    "8093741" => "Codetel (Claro Dominicana)",
    "8093740" => "Codetel (Claro Dominicana)",
    "8092245" => "Codetel (Claro Dominicana)",
    "8092244" => "Codetel (Claro Dominicana)",
    "8092243" => "Codetel (Claro Dominicana)",
    "8092225" => "Codetel (Claro Dominicana)",
    "8092224" => "Codetel (Claro Dominicana)",
    "8092223" => "Codetel (Claro Dominicana)",
    "829991" => "Codetel (Claro Dominicana)",
    "829986" => "Codetel (Claro Dominicana)",
    "829984" => "Codetel (Claro Dominicana)",
    "829983" => "Codetel (Claro Dominicana)",
    "829982" => "Codetel (Claro Dominicana)",
    "829981" => "Codetel (Claro Dominicana)",
    "829980" => "Codetel (Claro Dominicana)",
    "829978" => "Codetel (Claro Dominicana)",
    "829977" => "Codetel (Claro Dominicana)",
    "829975" => "Codetel (Claro Dominicana)",
    "829974" => "Codetel (Claro Dominicana)",
    "829973" => "Codetel (Claro Dominicana)",
    "829972" => "Codetel (Claro Dominicana)",
    "829969" => "Codetel (Claro Dominicana)",
    "829968" => "Codetel (Claro Dominicana)",
    "829967" => "Codetel (Claro Dominicana)",
    "829966" => "Codetel (Claro Dominicana)",
    "829965" => "Codetel (Claro Dominicana)",
    "829964" => "Codetel (Claro Dominicana)",
    "829963" => "Codetel (Claro Dominicana)",
    "829962" => "Codetel (Claro Dominicana)",
    "829961" => "Codetel (Claro Dominicana)",
    "829958" => "Codetel (Claro Dominicana)",
    "829935" => "Codetel (Claro Dominicana)",
    "829931" => "Codetel (Claro Dominicana)",
    "829899" => "Codetel (Claro Dominicana)",
    "829879" => "Codetel (Claro Dominicana)",
    "829873" => "Codetel (Claro Dominicana)",
    "829870" => "France Telecom (Orange Dominicana)",
    "829869" => "Codetel (Claro Dominicana)",
    "829867" => "Codetel (Claro Dominicana)",
    "829862" => "Codetel (Claro Dominicana)",
    "829857" => "Codetel (Claro Dominicana)",
    "829856" => "Codetel (Claro Dominicana)",
    "829854" => "Codetel (Claro Dominicana)",
    "829853" => "Codetel (Claro Dominicana)",
    "829852" => "Codetel (Claro Dominicana)",
    "829838" => "France Telecom (Orange Dominicana)",
    "829830" => "France Telecom (Orange Dominicana)",
    "829819" => "Codetel (Claro Dominicana)",
    "829817" => "Codetel (Claro Dominicana)",
    "829816" => "Codetel (Claro Dominicana)",
    "829815" => "Codetel (Claro Dominicana)",
    "829805" => "Codetel (Claro Dominicana)",
    "829803" => "Codetel (Claro Dominicana)",
    "829802" => "Codetel (Claro Dominicana)",
    "829799" => "Codetel (Claro Dominicana)",
    "829790" => "Codetel (Claro Dominicana)",
    "829788" => "Codetel (Claro Dominicana)",
    "829780" => "Codetel (Claro Dominicana)",
    "829766" => "Codetel (Claro Dominicana)",
    "829760" => "Codetel (Claro Dominicana)",
    "829757" => "France Telecom (Orange Dominicana)",
    "829755" => "Codetel (Claro Dominicana)",
    "829750" => "Codetel (Claro Dominicana)",
    "829747" => "France Telecom (Orange Dominicana)",
    "829744" => "Codetel (Claro Dominicana)",
    "829740" => "Codetel (Claro Dominicana)",
    "829702" => "France Telecom (Orange Dominicana)",
    "829669" => "France Telecom (Orange Dominicana)",
    "829664" => "France Telecom (Orange Dominicana)",
    "829662" => "France Telecom (Orange Dominicana)",
    "829650" => "France Telecom (Orange Dominicana)",
    "829640" => "France Telecom (Orange Dominicana)",
    "829630" => "France Telecom (Orange Dominicana)",
    "829346" => "Codetel (Claro Dominicana)",
    "829345" => "Codetel (Claro Dominicana)",
    "829344" => "Codetel (Claro Dominicana)",
    "829343" => "Codetel (Claro Dominicana)",
    "829342" => "Codetel (Claro Dominicana)",
    "829341" => "Codetel (Claro Dominicana)",
    "829340" => "Codetel (Claro Dominicana)",
    "829286" => "France Telecom (Orange Dominicana)",
    "829285" => "France Telecom (Orange Dominicana)",
    "829284" => "France Telecom (Orange Dominicana)",
    "829281" => "France Telecom (Orange Dominicana)",
    "829279" => "France Telecom (Orange Dominicana)",
    "829278" => "France Telecom (Orange Dominicana)",
    "829276" => "France Telecom (Orange Dominicana)",
    "829275" => "France Telecom (Orange Dominicana)",
    "829274" => "France Telecom (Orange Dominicana)",
    "829273" => "France Telecom (Orange Dominicana)",
    "829263" => "France Telecom (Orange Dominicana)",
    "829262" => "France Telecom (Orange Dominicana)",
    "829261" => "France Telecom (Orange Dominicana)",
    "809982" => "France Telecom (Orange Dominicana)",
    "809981" => "France Telecom (Orange Dominicana)",
    "809980" => "France Telecom (Orange Dominicana)",
    "809979" => "France Telecom (Orange Dominicana)",
    "809978" => "France Telecom (Orange Dominicana)",
    "809977" => "France Telecom (Orange Dominicana)",
    "809975" => "France Telecom (Orange Dominicana)",
    "809974" => "France Telecom (Orange Dominicana)",
    "809973" => "France Telecom (Orange Dominicana)",
    "809972" => "France Telecom (Orange Dominicana)",
    "809946" => "Tricom (Altice Dominicana)",
    "809945" => "Tricom (Altice Dominicana)",
    "809944" => "Tricom (Altice Dominicana)",
    "809943" => "Tricom (Altice Dominicana)",
    "809942" => "Tricom (Altice Dominicana)",
    "809941" => "Tricom (Altice Dominicana)",
    "809940" => "Tricom (Altice Dominicana)",
    "809939" => "Tricom (Altice Dominicana)",
    "809938" => "Tricom (Altice Dominicana)",
    "809932" => "Tricom (Altice Dominicana)",
    "809929" => "Tricom (Altice Dominicana)",
    "809928" => "Tricom (Altice Dominicana)",
    "809918" => "France Telecom (Orange Dominicana)",
    "809917" => "France Telecom (Orange Dominicana)",
    "809916" => "France Telecom (Orange Dominicana)",
    "809915" => "France Telecom (Orange Dominicana)",
    "809914" => "France Telecom (Orange Dominicana)",
    "809913" => "France Telecom (Orange Dominicana)",
    "809912" => "France Telecom (Orange Dominicana)",
    "809890" => "France Telecom (Orange Dominicana)",
    "809889" => "France Telecom (Orange Dominicana)",
    "809887" => "Turitel",
    "809886" => "France Telecom (Orange Dominicana)",
    "809885" => "France Telecom (Orange Dominicana)",
    "809884" => "France Telecom (Orange Dominicana)",
    "809883" => "France Telecom (Orange Dominicana)",
    "809882" => "France Telecom (Orange Dominicana)",
    "809881" => "France Telecom (Orange Dominicana)",
    "809880" => "France Telecom (Orange Dominicana)",
    "809879" => "France Telecom (Orange Dominicana)",
    "809878" => "France Telecom (Orange Dominicana)",
    "809877" => "France Telecom (Orange Dominicana)",
    "809876" => "France Telecom (Orange Dominicana)",
    "809875" => "France Telecom (Orange Dominicana)",
    "809874" => "Tricom (Altice Dominicana)",
    "809873" => "France Telecom (Orange Dominicana)",
    "809858" => "France Telecom (Orange Dominicana)",
    "809857" => "France Telecom (Orange Dominicana)",
    "809856" => "France Telecom (Orange Dominicana)",
    "809855" => "France Telecom (Orange Dominicana)",
    "809854" => "France Telecom (Orange Dominicana)",
    "809853" => "France Telecom (Orange Dominicana)",
    "809852" => "France Telecom (Orange Dominicana)",
    "809851" => "France Telecom (Orange Dominicana)",
    "809850" => "France Telecom (Orange Dominicana)",
    "809849" => "France Telecom (Orange Dominicana)",
    "809848" => "France Telecom (Orange Dominicana)",
    "809847" => "France Telecom (Orange Dominicana)",
    "809846" => "France Telecom (Orange Dominicana)",
    "809845" => "France Telecom (Orange Dominicana)",
    "809844" => "Codetel (Claro Dominicana)",
    "809843" => "Codetel (Claro Dominicana)",
    "809842" => "Codetel (Claro Dominicana)",
    "809841" => "Codetel (Claro Dominicana)",
    "809840" => "Codetel (Claro Dominicana)",
    "809839" => "Codetel (Claro Dominicana)",
    "809838" => "Codetel (Claro Dominicana)",
    "809837" => "Codetel (Claro Dominicana)",
    "809835" => "Codetel (Claro Dominicana)",
    "809834" => "Codetel (Claro Dominicana)",
    "809829" => "Codetel (Claro Dominicana)",
    "809818" => "Centennial Dominicana (Viva)",
    "809817" => "France Telecom (Orange Dominicana)",
    "809816" => "France Telecom (Orange Dominicana)",
    "809815" => "France Telecom (Orange Dominicana)",
    "809805" => "France Telecom (Orange Dominicana)",
    "809804" => "France Telecom (Orange Dominicana)",
    "809803" => "France Telecom (Orange Dominicana)",
    "809802" => "France Telecom (Orange Dominicana)",
    "809801" => "France Telecom (Orange Dominicana)",
    "809796" => "Codetel (Claro Dominicana)",
    "809787" => "Codetel (Claro Dominicana)",
    "809786" => "Codetel (Claro Dominicana)",
    "809785" => "Codetel (Claro Dominicana)",
    "809777" => "Centennial Dominicana (Viva)",
    "809776" => "Codetel (Claro Dominicana)",
    "809775" => "Codetel (Claro Dominicana)",
    "809774" => "Codetel (Claro Dominicana)",
    "809773" => "Codetel (Claro Dominicana)",
    "809772" => "Codetel (Claro Dominicana)",
    "809771" => "Codetel (Claro Dominicana)",
    "809769" => "Codetel (Claro Dominicana)",
    "809768" => "Codetel (Claro Dominicana)",
    "809767" => "Codetel (Claro Dominicana)",
    "809765" => "Codetel (Claro Dominicana)",
    "809764" => "Codetel (Claro Dominicana)",
    "809763" => "Codetel (Claro Dominicana)",
    "809762" => "Codetel (Claro Dominicana)",
    "809761" => "Codetel (Claro Dominicana)",
    "809760" => "Codetel (Claro Dominicana)",
    "809759" => "Codetel (Claro Dominicana)",
    "809758" => "Codetel (Claro Dominicana)",
    "809757" => "Codetel (Claro Dominicana)",
    "809756" => "Codetel (Claro Dominicana)",
    "809754" => "Codetel (Claro Dominicana)",
    "809753" => "Codetel (Claro Dominicana)",
    "809752" => "Codetel (Claro Dominicana)",
    "809751" => "Codetel (Claro Dominicana)",
    "809750" => "Codetel (Claro Dominicana)",
    "809749" => "Codetel (Claro Dominicana)",
    "809729" => "Codetel (Claro Dominicana)",
    "809727" => "Codetel (Claro Dominicana)",
    "809723" => "Codetel (Claro Dominicana)",
    "809710" => "Codetel (Claro Dominicana)",
    "809707" => "Codetel (Claro Dominicana)",
    "809697" => "Codetel (Claro Dominicana)",
    "809696" => "Codetel (Claro Dominicana)",
    "809671" => "Codetel (Claro Dominicana)",
    "809670" => "Codetel (Claro Dominicana)",
    "809659" => "Tricom (Altice Dominicana)",
    "809658" => "Tricom (Altice Dominicana)",
    "809656" => "Tricom (Altice Dominicana)",
    "809653" => "Tricom (Altice Dominicana)",
    "809652" => "Tricom (Altice Dominicana)",
    "809651" => "Tricom (Altice Dominicana)",
    "809650" => "Tricom (Altice Dominicana)",
    "809639" => "Tricom (Altice Dominicana)",
    "809637" => "Tricom (Altice Dominicana)",
    "809635" => "Tricom (Altice Dominicana)",
    "809634" => "Tricom (Altice Dominicana)",
    "809632" => "Tricom (Altice Dominicana)",
    "809631" => "Tricom (Altice Dominicana)",
    "809630" => "Tricom (Altice Dominicana)",
    "809629" => "Tricom (Altice Dominicana)",
    "809628" => "Tricom (Altice Dominicana)",
    "809624" => "Tricom (Altice Dominicana)",
    "809545" => "Codetel (Claro Dominicana)",
    "809519" => "Codetel (Claro Dominicana)",
    "809515" => "Codetel (Claro Dominicana)",
    "809459" => "Codetel (Claro Dominicana)",
    "809458" => "Codetel (Claro Dominicana)",
    "809457" => "Codetel (Claro Dominicana)",
    "809456" => "Codetel (Claro Dominicana)",
    "809454" => "Codetel (Claro Dominicana)",
    "809453" => "Codetel (Claro Dominicana)",
    "809452" => "Codetel (Claro Dominicana)",
    "809451" => "Codetel (Claro Dominicana)",
    "809439" => "Centennial Dominicana (Viva)",
    "809438" => "Centennial Dominicana (Viva)",
    "809437" => "Centennial Dominicana (Viva)",
    "809436" => "Centennial Dominicana (Viva)",
    "809432" => "Centennial Dominicana (Viva)",
    "809431" => "Centennial Dominicana (Viva)",
    "809430" => "Centennial Dominicana (Viva)",
    "809429" => "Codetel (Claro Dominicana)",
    "809428" => "Codetel (Claro Dominicana)",
    "809424" => "Codetel (Claro Dominicana)",
    "809423" => "Centennial Dominicana (Viva)",
    "809421" => "Centennial Dominicana (Viva)",
    "809420" => "Centennial Dominicana (Viva)",
    "809419" => "Centennial Dominicana (Viva)",
    "809418" => "Centennial Dominicana (Viva)",
    "809417" => "Centennial Dominicana (Viva)",
    "809416" => "Centennial Dominicana (Viva)",
    "809415" => "Centennial Dominicana (Viva)",
    "809399" => "Codetel (Claro Dominicana)",
    "809396" => "Codetel (Claro Dominicana)",
    "809395" => "Codetel (Claro Dominicana)",
    "809383" => "Codetel (Claro Dominicana)",
    "809376" => "Codetel (Claro Dominicana)",
    "809370" => "Codetel (Claro Dominicana)",
    "809366" => "Tricom (Altice Dominicana)",
    "809360" => "Codetel (Claro Dominicana)",
    "809355" => "Tricom (Altice Dominicana)",
    "809350" => "Codetel (Claro Dominicana)",
    "809348" => "Tricom (Altice Dominicana)",
    "809345" => "Tricom (Altice Dominicana)",
    "809344" => "Tricom (Altice Dominicana)",
    "809343" => "Tricom (Altice Dominicana)",
    "809342" => "Tricom (Altice Dominicana)",
    "809341" => "Tricom (Altice Dominicana)",
    "809340" => "Tricom (Altice Dominicana)",
    "809330" => "Codetel (Claro Dominicana)",
    "809327" => "Tricom (Altice Dominicana)",
    "809326" => "Tricom (Altice Dominicana)",
    "809325" => "Tricom (Altice Dominicana)",
    "809324" => "Tricom (Altice Dominicana)",
    "809323" => "Tricom (Altice Dominicana)",
    "809322" => "Tricom (Altice Dominicana)",
    "809321" => "Tricom (Altice Dominicana)",
    "809314" => "Turitel",
    "809312" => "Turitel",
    "809310" => "Tricom (Altice Dominicana)",
    "809309" => "Centennial Dominicana (Viva)",
    "809308" => "Centennial Dominicana (Viva)",
    "809307" => "Centennial Dominicana (Viva)",
    "809306" => "Centennial Dominicana (Viva)",
    "809305" => "Centennial Dominicana (Viva)",
    "809304" => "Centennial Dominicana (Viva)",
    "809303" => "Centennial Dominicana (Viva)",
    "809302" => "Centennial Dominicana (Viva)",
    "809301" => "Tricom (Altice Dominicana)",
    "809299" => "Codetel (Claro Dominicana)",
    "809293" => "Tricom (Altice Dominicana)",
    "809292" => "Tricom (Altice Dominicana)",
    "809283" => "Codetel (Claro Dominicana)",
    "809272" => "Codetel (Claro Dominicana)",
    "809271" => "Codetel (Claro Dominicana)",
    "809270" => "Codetel (Claro Dominicana)",
    "809269" => "Codetel (Claro Dominicana)",
    "809268" => "Codetel (Claro Dominicana)",
    "809267" => "Codetel (Claro Dominicana)",
    "809258" => "Codetel (Claro Dominicana)",
    "809257" => "Codetel (Claro Dominicana)",
    "809256" => "Codetel (Claro Dominicana)",
    "809254" => "Codetel (Claro Dominicana)",
    "809253" => "Codetel (Claro Dominicana)",
    "809252" => "Codetel (Claro Dominicana)",
    "809251" => "Codetel (Claro Dominicana)",
    "809250" => "Codetel (Claro Dominicana)",
    "809249" => "Codetel (Claro Dominicana)",
    "809223" => "Codetel (Claro Dominicana)",
    "809213" => "Turitel",
    "809204" => "Tricom (Altice Dominicana)",
    "809201" => "Economitel",
    "80999" => "Tricom (Altice Dominicana)",
    "80986" => "France Telecom (Orange Dominicana)",
    "80964" => "Tricom (Altice Dominicana)",
    "80949" => "Codetel (Claro Dominicana)",
    "80944" => "Centennial Dominicana (Viva)"
  );
  foreach ( $prefixes as $prefix => $operator)
  {
    if ( (int) substr ( $parameters["Number"], 2, strlen ( $prefix)) == $prefix)
    {
      return array_merge_recursive ( ( is_array ( $buffer) ? $buffer : array ()), array ( "CC" => "1" . substr ( $parameters["Number"], 2, 3), "NDC" => substr ( $parameters["Number"], 5, 3), "Country" => "Dominican Republic", "Area" => "", "City" => "", "Operator" => $operator, "SN" => substr ( $parameters["Number"], 8), "Type" => VD_PHONETYPE_MOBILE, "CallFormats" => array ( "Local" => substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8), "International" => "+1 " . substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8))));
    }
  }

  /**
   * Check for fixed line network with 3 digits NPA, 3 digits NDC and 4 digits SN
   */
  $prefixes = array (
    "8097474" => "Codetel (Claro Dominicana)",
    "8095431" => "Codetel (Claro Dominicana)",
    "8092650" => "Codetel (Claro Dominicana)",
    "8092481" => "Codetel (Claro Dominicana)",
    "809971" => "Codetel (Claro Dominicana)",
    "809970" => "Codetel (Claro Dominicana)",
    "809960" => "Codetel (Claro Dominicana)",
    "809959" => "Codetel (Claro Dominicana)",
    "809955" => "Codetel (Claro Dominicana)",
    "809954" => "Codetel (Claro Dominicana)",
    "809951" => "Codetel (Claro Dominicana)",
    "809948" => "Tricom (Altice Dominicana)",
    "809947" => "Tricom (Altice Dominicana)",
    "809937" => "Tricom (Altice Dominicana)",
    "809936" => "Tricom (Altice Dominicana)",
    "809935" => "Tricom (Altice Dominicana)",
    "809934" => "Tricom (Altice Dominicana)",
    "809933" => "Tricom (Altice Dominicana)",
    "809931" => "Tricom (Altice Dominicana)",
    "809930" => "Tricom (Altice Dominicana)",
    "809927" => "Tricom (Altice Dominicana)",
    "809926" => "Tricom (Altice Dominicana)",
    "809925" => "Tricom (Altice Dominicana)",
    "809922" => "Codetel (Claro Dominicana)",
    "809921" => "Codetel (Claro Dominicana)",
    "809920" => "Codetel (Claro Dominicana)",
    "809883" => "Codetel (Claro Dominicana)",
    "809872" => "Codetel (Claro Dominicana)",
    "809870" => "Codetel (Claro Dominicana)",
    "809859" => "France Telecom (Orange Dominicana)",
    "809826" => "Codetel (Claro Dominicana)",
    "809825" => "Codetel (Claro Dominicana)",
    "809824" => "Codetel (Claro Dominicana)",
    "809823" => "Codetel (Claro Dominicana)",
    "809822" => "Codetel (Claro Dominicana)",
    "809821" => "Codetel (Claro Dominicana)",
    "809813" => "Codetel (Claro Dominicana)",
    "809797" => "Codetel (Claro Dominicana)",
    "809795" => "Codetel (Claro Dominicana)",
    "809794" => "Codetel (Claro Dominicana)",
    "809793" => "Codetel (Claro Dominicana)",
    "809792" => "Codetel (Claro Dominicana)",
    "809788" => "Codetel (Claro Dominicana)",
    "809784" => "Codetel (Claro Dominicana)",
    "809770" => "Codetel (Claro Dominicana)",
    "809766" => "Codetel (Claro Dominicana)",
    "809755" => "Codetel (Claro Dominicana)",
    "809748" => "Codetel (Claro Dominicana)",
    "809746" => "Codetel (Claro Dominicana)",
    "809745" => "Codetel (Claro Dominicana)",
    "809742" => "Codetel (Claro Dominicana)",
    "809741" => "Codetel (Claro Dominicana)",
    "809740" => "Codetel (Claro Dominicana)",
    "809728" => "Codetel (Claro Dominicana)",
    "809726" => "Codetel (Claro Dominicana)",
    "809725" => "Codetel (Claro Dominicana)",
    "809724" => "Codetel (Claro Dominicana)",
    "809701" => "Tricom (Altice Dominicana)",
    "809699" => "Tricom (Altice Dominicana)",
    "809695" => "Codetel (Claro Dominicana)",
    "809693" => "Codetel (Claro Dominicana)",
    "809692" => "Codetel (Claro Dominicana)",
    "809691" => "Codetel (Claro Dominicana)",
    "809690" => "Codetel (Claro Dominicana)",
    "809679" => "Codetel (Claro Dominicana)",
    "809657" => "Tricom (Altice Dominicana)",
    "809655" => "Tricom (Altice Dominicana)",
    "809654" => "Tricom (Altice Dominicana)",
    "809633" => "Tricom (Altice Dominicana)",
    "809627" => "Tricom (Altice Dominicana)",
    "809626" => "Tricom (Altice Dominicana)",
    "809625" => "Tricom (Altice Dominicana)",
    "809623" => "Tricom (Altice Dominicana)",
    "809622" => "Tricom (Altice Dominicana)",
    "809621" => "Tricom (Altice Dominicana)",
    "809620" => "Tricom (Altice Dominicana)",
    "809616" => "Tricom (Altice Dominicana)",
    "809612" => "Tricom (Altice Dominicana)",
    "809604" => "Codetel (Claro Dominicana)",
    "809569" => "Codetel (Claro Dominicana)",
    "809568" => "Codetel (Claro Dominicana)",
    "809567" => "Codetel (Claro Dominicana)",
    "809566" => "Codetel (Claro Dominicana)",
    "809565" => "Codetel (Claro Dominicana)",
    "809564" => "Codetel (Claro Dominicana)",
    "809563" => "Codetel (Claro Dominicana)",
    "809562" => "Codetel (Claro Dominicana)",
    "809561" => "Codetel (Claro Dominicana)",
    "809560" => "Codetel (Claro Dominicana)",
    "809549" => "Codetel (Claro Dominicana)",
    "809548" => "Codetel (Claro Dominicana)",
    "809547" => "Codetel (Claro Dominicana)",
    "809544" => "Codetel (Claro Dominicana)",
    "809542" => "Codetel (Claro Dominicana)",
    "809541" => "Codetel (Claro Dominicana)",
    "809540" => "Codetel (Claro Dominicana)",
    "809539" => "Codetel (Claro Dominicana)",
    "809538" => "Codetel (Claro Dominicana)",
    "809537" => "Codetel (Claro Dominicana)",
    "809536" => "Codetel (Claro Dominicana)",
    "809535" => "Codetel (Claro Dominicana)",
    "809534" => "Codetel (Claro Dominicana)",
    "809533" => "Codetel (Claro Dominicana)",
    "809532" => "Codetel (Claro Dominicana)",
    "809531" => "Codetel (Claro Dominicana)",
    "809530" => "Codetel (Claro Dominicana)",
    "809529" => "Codetel (Claro Dominicana)",
    "809528" => "Codetel (Claro Dominicana)",
    "809527" => "Codetel (Claro Dominicana)",
    "809526" => "Codetel (Claro Dominicana)",
    "809525" => "Codetel (Claro Dominicana)",
    "809524" => "Codetel (Claro Dominicana)",
    "809523" => "Codetel (Claro Dominicana)",
    "809522" => "Codetel (Claro Dominicana)",
    "809521" => "Codetel (Claro Dominicana)",
    "809518" => "Codetel (Claro Dominicana)",
    "809508" => "Codetel (Claro Dominicana)",
    "809503" => "Centennial Dominicana (Viva)",
    "809489" => "Codetel (Claro Dominicana)",
    "809487" => "Codetel (Claro Dominicana)",
    "809483" => "Codetel (Claro Dominicana)",
    "809482" => "Codetel (Claro Dominicana)",
    "809476" => "Tricom (Altice Dominicana)",
    "809474" => "Codetel (Claro Dominicana)",
    "809473" => "Codetel (Claro Dominicana)",
    "809472" => "Codetel (Claro Dominicana)",
    "809471" => "Tricom (Altice Dominicana)",
    "809450" => "Centennial Dominicana (Viva)",
    "809435" => "Centennial Dominicana (Viva)",
    "809434" => "Centennial Dominicana (Viva)",
    "809433" => "Centennial Dominicana (Viva)",
    "809422" => "Centennial Dominicana (Viva)",
    "809414" => "Tricom (Altice Dominicana)",
    "809412" => "Tricom (Altice Dominicana)",
    "809388" => "Codetel (Claro Dominicana)",
    "809385" => "Codetel (Claro Dominicana)",
    "809384" => "Codetel (Claro Dominicana)",
    "809382" => "Codetel (Claro Dominicana)",
    "809381" => "Codetel (Claro Dominicana)",
    "809380" => "Codetel (Claro Dominicana)",
    "809379" => "Codetel (Claro Dominicana)",
    "809378" => "Codetel (Claro Dominicana)",
    "809375" => "Codetel (Claro Dominicana)",
    "809372" => "Codetel (Claro Dominicana)",
    "809369" => "Codetel (Claro Dominicana)",
    "809367" => "Tricom (Altice Dominicana)",
    "809365" => "Codetel (Claro Dominicana)",
    "809364" => "Codetel (Claro Dominicana)",
    "809363" => "Codetel (Claro Dominicana)",
    "809362" => "Codetel (Claro Dominicana)",
    "809349" => "Tricom (Altice Dominicana)",
    "809347" => "Tricom (Altice Dominicana)",
    "809346" => "Tricom (Altice Dominicana)",
    "809339" => "Tricom (Altice Dominicana)",
    "809338" => "Tricom (Altice Dominicana)",
    "809337" => "Tricom (Altice Dominicana)",
    "809336" => "Tricom (Altice Dominicana)",
    "809335" => "Tricom (Altice Dominicana)",
    "809334" => "Tricom (Altice Dominicana)",
    "809333" => "Tricom (Altice Dominicana)",
    "809332" => "Tricom (Altice Dominicana)",
    "809331" => "Tricom (Altice Dominicana)",
    "809329" => "Tricom (Altice Dominicana)",
    "809328" => "Tricom (Altice Dominicana)",
    "809320" => "Codetel (Claro Dominicana)",
    "809296" => "Codetel (Claro Dominicana)",
    "809295" => "Tricom (Altice Dominicana)",
    "809294" => "Codetel (Claro Dominicana)",
    "809291" => "Tricom (Altice Dominicana)",
    "809290" => "Tricom (Altice Dominicana)",
    "809288" => "Codetel (Claro Dominicana)",
    "809287" => "Codetel (Claro Dominicana)",
    "809286" => "Codetel (Claro Dominicana)",
    "809285" => "Codetel (Claro Dominicana)",
    "809279" => "Tricom (Altice Dominicana)",
    "809278" => "Tricom (Altice Dominicana)",
    "809277" => "Tricom (Altice Dominicana)",
    "809276" => "Tricom (Altice Dominicana)",
    "809275" => "Tricom (Altice Dominicana)",
    "809274" => "Tricom (Altice Dominicana)",
    "809273" => "Tricom (Altice Dominicana)",
    "809264" => "Codetel (Claro Dominicana)",
    "809263" => "Codetel (Claro Dominicana)",
    "809262" => "Codetel (Claro Dominicana)",
    "809261" => "Codetel (Claro Dominicana)",
    "809255" => "Codetel (Claro Dominicana)",
    "809247" => "Codetel (Claro Dominicana)",
    "809246" => "Codetel (Claro Dominicana)",
    "809245" => "Codetel (Claro Dominicana)",
    "809244" => "Codetel (Claro Dominicana)",
    "809243" => "Codetel (Claro Dominicana)",
    "809242" => "Codetel (Claro Dominicana)",
    "809241" => "Codetel (Claro Dominicana)",
    "809240" => "Codetel (Claro Dominicana)",
    "809239" => "Tricom (Altice Dominicana)",
    "809238" => "Tricom (Altice Dominicana)",
    "809237" => "Tricom (Altice Dominicana)",
    "809236" => "Tricom (Altice Dominicana)",
    "809234" => "Tricom (Altice Dominicana)",
    "809233" => "Tricom (Altice Dominicana)",
    "809231" => "Tricom (Altice Dominicana)",
    "809227" => "Codetel (Claro Dominicana)",
    "809226" => "Codetel (Claro Dominicana)",
    "809221" => "Codetel (Claro Dominicana)",
    "809220" => "Codetel (Claro Dominicana)",
    "80973" => "Codetel (Claro Dominicana)",
    "80968" => "Codetel (Claro Dominicana)",
    "80959" => "Codetel (Claro Dominicana)",
    "80958" => "Codetel (Claro Dominicana)",
    "80957" => "Codetel (Claro Dominicana)",
    "80955" => "Codetel (Claro Dominicana)"
  );
  foreach ( $prefixes as $prefix => $operator)
  {
    if ( (int) substr ( $parameters["Number"], 2, strlen ( $prefix)) == $prefix)
    {
      return array_merge_recursive ( ( is_array ( $buffer) ? $buffer : array ()), array ( "CC" => "1" . substr ( $parameters["Number"], 2, 3), "NDC" => substr ( $parameters["Number"], 5, 3), "Country" => "Dominican Republic", "Area" => "", "City" => "", "Operator" => $operator, "SN" => substr ( $parameters["Number"], 8), "Type" => VD_PHONETYPE_LANDLINE, "CallFormats" => array ( "Local" => substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8), "International" => "+1 " . substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8))));
    }
  }

  /**
   * Check for paging network with 3 digits NPA, 3 digits NDC and 4 digits SN
   */
  $prefixes = array (
    "809989" => "Tricom (Altice Dominicana)",
    "809988" => "Tricom (Altice Dominicana)",
    "809987" => "Tricom (Altice Dominicana)",
    "809986" => "Tricom (Altice Dominicana)",
    "809985" => "Tricom (Altice Dominicana)",
    "809958" => "Codetel (Claro Dominicana)",
    "809957" => "Codetel (Claro Dominicana)",
    "809956" => "Codetel (Claro Dominicana)",
    "809908" => "Tricom (Altice Dominicana)",
    "809888" => "Codetel (Claro Dominicana)",
    "809871" => "Codetel (Claro Dominicana)",
    "809832" => "Codetel (Claro Dominicana)",
    "809831" => "Codetel (Claro Dominicana)",
    "809830" => "Codetel (Claro Dominicana)",
    "809814" => "Codetel (Claro Dominicana)",
    "809810" => "Tricom (Altice Dominicana)",
    "809808" => "Tricom (Altice Dominicana)",
    "809807" => "Tricom (Altice Dominicana)",
    "809806" => "Tricom (Altice Dominicana)",
    "809799" => "Codetel (Claro Dominicana)",
    "809744" => "Codetel (Claro Dominicana)",
    "809722" => "Codetel (Claro Dominicana)",
    "809721" => "Codetel (Claro Dominicana)",
    "809720" => "Codetel (Claro Dominicana)",
    "809698" => "Codetel (Claro Dominicana)",
    "809694" => "Codetel (Claro Dominicana)",
    "809660" => "Tricom (Altice Dominicana)",
    "809638" => "Tricom (Altice Dominicana)",
    "809636" => "Tricom (Altice Dominicana)",
    "809618" => "Codetel (Claro Dominicana)",
    "809615" => "Codetel (Claro Dominicana)",
    "809606" => "Codetel (Claro Dominicana)",
    "809546" => "Codetel (Claro Dominicana)",
    "809520" => "Codetel (Claro Dominicana)",
    "809512" => "Codetel (Claro Dominicana)",
    "809506" => "Codetel (Claro Dominicana)",
    "809504" => "Codetel (Claro Dominicana)",
    "809488" => "Codetel (Claro Dominicana)",
    "809486" => "Codetel (Claro Dominicana)",
    "809479" => "Codetel (Claro Dominicana)",
    "809478" => "Codetel (Claro Dominicana)",
    "809477" => "Codetel (Claro Dominicana)",
    "809475" => "Tricom (Altice Dominicana)",
    "809465" => "Codetel (Claro Dominicana)",
    "809464" => "Codetel (Claro Dominicana)",
    "809463" => "Codetel (Claro Dominicana)",
    "809462" => "Codetel (Claro Dominicana)",
    "809461" => "Codetel (Claro Dominicana)",
    "809460" => "Codetel (Claro Dominicana)",
    "809394" => "Codetel (Claro Dominicana)",
    "809393" => "Codetel (Claro Dominicana)",
    "809392" => "Codetel (Claro Dominicana)",
    "809390" => "Codetel (Claro Dominicana)",
    "809387" => "Codetel (Claro Dominicana)",
    "809386" => "Codetel (Claro Dominicana)",
    "809377" => "Codetel (Claro Dominicana)",
    "809373" => "Codetel (Claro Dominicana)",
    "809371" => "Codetel (Claro Dominicana)",
    "809368" => "Codetel (Claro Dominicana)",
    "809266" => "Codetel (Claro Dominicana)",
    "809260" => "Codetel (Claro Dominicana)",
    "809225" => "Codetel (Claro Dominicana)",
    "809209" => "Codetel (Claro Dominicana)",
    "809208" => "Codetel (Claro Dominicana)"
  );
  foreach ( $prefixes as $prefix => $operator)
  {
    if ( (int) substr ( $parameters["Number"], 2, strlen ( $prefix)) == $prefix)
    {
      return array_merge_recursive ( ( is_array ( $buffer) ? $buffer : array ()), array ( "CC" => "1" . substr ( $parameters["Number"], 2, 3), "NDC" => substr ( $parameters["Number"], 5, 3), "Country" => "Dominican Republic", "Area" => "", "City" => "", "Operator" => $operator, "SN" => substr ( $parameters["Number"], 8), "Type" => VD_PHONETYPE_PAGING, "CallFormats" => array ( "Local" => substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8), "International" => "+1 " . substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8))));
    }
  }

  /**
   * Check for unknown (unspecified) network with 3 digits NPA, 3 digits NDC and
   * 4 digits SN
   */
  $prefixes = array (
    "829834" => "Onemax",
    "829833" => "Onemax",
    "829832" => "Onemax",
    "829831" => "Onemax",
    "829739" => "Onemax",
    "829738" => "Onemax",
    "829737" => "Onemax",
    "829736" => "Onemax",
    "829735" => "Onemax",
    "829734" => "Onemax",
    "829733" => "Onemax",
    "829732" => "Onemax",
    "829609" => "Onemax",
    "829608" => "Onemax",
    "829607" => "Onemax"
  );
  foreach ( $prefixes as $prefix => $operator)
  {
    if ( (int) substr ( $parameters["Number"], 2, strlen ( $prefix)) == $prefix)
    {
      return array_merge_recursive ( ( is_array ( $buffer) ? $buffer : array ()), array ( "CC" => "1" . substr ( $parameters["Number"], 2, 3), "NDC" => substr ( $parameters["Number"], 5, 3), "Country" => "Dominican Republic", "Area" => "", "City" => "", "Operator" => $operator, "SN" => substr ( $parameters["Number"], 8), "Type" => VD_PHONETYPE_UNKNOWN, "CallFormats" => array ( "Local" => substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8), "International" => "+1 " . substr ( $parameters["Number"], 2, 3) . " " . substr ( $parameters["Number"], 5, 3) . " " . substr ( $parameters["Number"], 8))));
    }
  }

  /**
   * If reached here, number wasn't identified as a valid Dominican Republic phone number
   */
  return ( is_array ( $buffer) ? $buffer : false);
}
?>
